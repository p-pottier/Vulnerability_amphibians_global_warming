# Vulnerability of amphibians to global warming

This repository contains the data and code to reproduce the results from **Pottier P., Kearney M.R., Wu N.C., Gunderson A.R., Rej J.E., Rivera-Villanueva A.N., Pollo P., Burke S., Drobniak S.M., & Nakagawa S. (2024). Vulnerability of amphibians to global warming.** *In prep* 

We highly recommend navigating this code and repository using **R/Master_file.html**. This rendered version of the code goes through every step of the pipeline, and we recommend users to use headers to navigate this document because it is very large (~35,000 lines of code). At the bottom of the headers of this document, you also have the option to visualize this document using a **light** or **dark** theme.

**However**, **R/Master_file.html** is not entirely reproducible. This code requires extensive computational power and most computations used the computational cluster Katana supported by Research Technology Services at UNSW Sydney (https://research.unsw.edu.au/katana). All code ran on Katana are indicated under each header, along with the location of the specific files one can use to reproduce the results.
Therefore, **R/Master_file.html** is mostly here to walk the reader through the analyses. 

Where one wants to reproduce the analysis, please see the folder **R/**, where the files used to produce these results in an HPC environment are provided. The **pbs/** folder also describes the resources requested to run each individual R file, and these can be adapted to different supercomputers.

Note that we have not provided climatic data in this repository, but NCEP data can be downloaded at https://psl.noaa.gov/thredds/catalog/Datasets/ncep.reanalysis2/gaussian_grid/catalog.html , while TerraClimate data can be downloaded at https://www.climatologylab.org/terraclimate.html 

While not all **data** and **RData** files are provided in this repository due to memory size limits in Github, all files are available upon request. Please feel free to contact Patrice Pottier (p.pottier@unsw.edu.au) if you have any questions, find mistakes in the code, or if you would like to access specific files. We also recommend contacting us if you are to re-use our data or analyses in other studies.
Note that we will also archive all files to a permanent repository upon journal acceptance.

------------

Below is an overview of the different folders in this repository and their content. 

# R
*This folder contains all R code needed to reproduce the results.* 

## Biophysical_modelling  
*This folder contains all R code to run biophysical models.*

  ### Arboreal
*This folder contains all R code to run biophysical models simulating arboreal microhabitats* 

  #### current
*This folder contains all R code to run biophysical models simulating arboreal microhabitats in historical/current microclimates (2006-2015). 
This code was ran in batches to optimise memory and time requirements. 
All code can run simultaneously, except `Combining_outputs_arboreal_current_climate.R`, which is here to combine the outputs from all batches*

  #### 2C
*This folder contains all R code to run biophysical models simulating arboreal microhabitats in future microclimates assuming two degrees of global warming. 
This code was ran in batches to optimise memory and time requirements. 
All code can run simultaneously, except `Combining_outputs_arboreal_future_climate_2C.R`, which is here to combine the outputs from all batches*

    #### 4C
      *This folder contains all R code to run biophysical models simulating arboreal microhabitats in future microclimates assuming two degrees of global warming. 
This code was ran in batches to optimise memory and time requirements. 
All code can run simultaneously, except `Combining_outputs_arboreal_future_climate_4C.R`, which is here to combine the outputs from all batches*
