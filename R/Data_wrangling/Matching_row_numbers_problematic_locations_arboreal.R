library(tidyverse)

# Load files
distinct_coord<- readRDS(file="RData/General_data/distinct_coordinates_adjusted.rds")
distinct_coord_arb<- readRDS(file="RData/General_data/distinct_coordinates_adjusted_arboreal.rds")


# Combine the ranges of problematic locations into a vector
ranges <- c(2145:2160, 2305:2352, 2369:2384, 2481:2496, 2817:2831, 2848:2862, 3449:3464, 4649:4664, 4841:4856, 5529:5560)

# Select the rows in distinct_coord based on the ranges
distinct_coord_ranges <- distinct_coord[ranges, ]

# Match rows between distinct_coord_ranges and distinct_coord_arb
matched_indices <- sapply(1:nrow(distinct_coord_ranges), function(i) {
  which(distinct_coord_arb$x == distinct_coord_ranges$x[i] & 
          distinct_coord_arb$y == distinct_coord_ranges$y[i] & 
          distinct_coord_arb$lon == distinct_coord_ranges$lon[i] & 
          distinct_coord_arb$lat == distinct_coord_ranges$lat[i])
})

# Flatten the list of indices into a vector
matched_indices <- as.data.frame(unlist(matched_indices))



# --------------------------------------------

# Do the same for the future climate coordinates 

ranges_future <- c(2145:2160, 2208:2239, 2305:2352, 2369:2384, 2481:2496, 2817:2831, 2848:2862, 3449:3464, 4401:4416, 4649:4664, 4841:4856, 5528:5559, 14041:14056)

distinct_coord_ranges_future <- distinct_coord[ranges_future, ]

# Match rows between distinct_coord_ranges and distinct_coord_arb
matched_indices_future <- sapply(1:nrow(distinct_coord_ranges_future), function(i) {
  which(distinct_coord_arb$x == distinct_coord_ranges$x[i] & 
          distinct_coord_arb$y == distinct_coord_ranges$y[i] & 
          distinct_coord_arb$lon == distinct_coord_ranges$lon[i] & 
          distinct_coord_arb$lat == distinct_coord_ranges$lat[i])
})

# Flatten the list of indices into a vector
matched_indices_future <- as.data.frame(unlist(matched_indices_future)) # These are the same coordinates as in the current climate.
